<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºæ…§è¾²æ¥­ç”Ÿç”¢æ•¸æ“šç›£æ¸¬ç³»çµ±</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa; /* Light grey background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top to prevent jumping on content load */
            min-height: 100vh; /* Ensure full viewport height */
        }
        .container {
            max-width: 1200px; /* Max width for desktop */
            width: 100%;
            background-color: #ffffff; /* White background for the main content area */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            overflow: hidden; /* Hide overflow from rounded corners */
            margin-top: 2rem; /* Margin from top */
            margin-bottom: 2rem; /* Margin from bottom */
        }
        .page-content {
            padding: 2rem;
            min-height: 700px; /* Minimum height for pages to prevent layout shifts */
            display: none; /* Hidden by default, shown by JS */
        }
        .page-content.active {
            display: block;
        }
        .nav-button {
            transition: all 0.2s ease-in-out;
        }
        .nav-button:hover {
            background-color: #047857; /* Darker green on hover */
        }
        .nav-button.active {
            background-color: #047857; /* Active state */
            font-weight: 600;
        }

        /* Custom styles for animated carousel */
        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            min-width: 100%; /* Each slide takes full width */
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px; /* Fixed height for slides */
            background-size: cover;
            background-position: center;
            color: white;
            font-size: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .carousel-dot {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            margin: 0 5px;
            transition: background-color 0.3s;
        }
        .carousel-dot.active {
            background-color: white;
        }
        .chart-placeholder {
            min-height: 200px;
            background-color: #e0e7ff;
            border: 1px solid #c7d2fe;
            border-radius: 8px;
            display: flex;
            flex-direction: column; /* Allow vertical stacking of content */
            justify-content: center;
            align-items: center;
            color: #4338ca;
            font-weight: 500;
            text-align: center;
            padding: 1rem; /* Add padding for content */
        }

        /* Specific styles for CO2 Gauge (simulated) */
        .gauge-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: #cbd5e1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            margin: auto;
        }
        .gauge-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #22c55e; /* Green for healthy */
            height: 50%; /* Example fill level */
            transition: height 0.5s ease-out, background-color 0.5s ease-out;
        }
        .gauge-value {
            position: relative;
            z-index: 10;
            font-size: 1.5rem;
            font-weight: bold;
            color: #334155;
        }
        .gauge-label {
            position: absolute;
            top: 10px;
            font-size: 0.8rem;
            color: #64748b;
        }

        /* Responsive grid for feature cards and other layouts */
        @media (min-width: 640px) {
            .feature-cards-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (min-width: 768px) {
            .feature-cards-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        @media (min-width: 1024px) {
            .feature-cards-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
    </style>
</head>
<body class="bg-gray-100 antialiased">
    <div class="container bg-white rounded-xl shadow-lg my-8 md:my-12">
        <!-- Navigation Bar -->
        <nav class="bg-emerald-600 p-4 rounded-t-xl shadow-md">
            <ul class="flex flex-wrap justify-center gap-2 md:gap-4">
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50 active" onclick="showPage('home')">é¦–é </button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('dashboard')">å³æ™‚ç›£æ¸¬å„€è¡¨æ¿</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('automation')">æ™ºæ…§è¾²æ¥­è‡ªå‹•åŒ–æ§åˆ¶</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('crop-management')">è¾²ä½œç‰©ç”Ÿé•·ç®¡ç†å€</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('reports-prediction')">åˆ†æå ±è¡¨èˆ‡é æ¸¬ç³»çµ±</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('settings')">ç³»çµ±è¨­å®šèˆ‡ç®¡ç†</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('mobile-design')">æ‰‹æ©Ÿ/å¹³æ¿äº’å‹•è¨­è¨ˆ</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('ai-chatbot')">AIå®¢æœRobot</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('anomaly-notification')">ç•°å¸¸é€šçŸ¥</button></li>
            </ul>
        </nav>

        <!-- Page 1: é¦–é  Home -->
        <div id="home" class="page-content active">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">æ™ºæ…§è¾²æ¥­ç”Ÿç”¢æ•¸æ“šç›£æ¸¬ç³»çµ±</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">è®“è¾²æ¥­ç”Ÿç”¢æ›´æ™ºæ…§ã€æ›´é«˜æ•ˆï¼</p>

            <!-- Banner Carousel -->
            <section class="mb-10">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ç³»çµ±ç°¡ä»‹</h2>
                <div class="carousel-container h-64 md:h-80">
                    <div class="carousel-track" id="home-carousel-track">
                        <div class="carousel-slide" style="background-image: url('https://placehold.co/1200x400/3498db/ffffff?text=æ™ºæ…§è¾²å ´å…¨æ™¯');">
                            <span class="bg-black bg-opacity-50 p-2 rounded-md">æ™ºæ…§è¾²å ´å…¨æ™¯</span>
                        </div>
                        <div class="carousel-slide" style="background-image: url('https://placehold.co/1200x400/2ecc71/ffffff?text=å…ˆé€²æ„Ÿæ¸¬å™¨éƒ¨ç½²');">
                            <span class="bg-black bg-opacity-50 p-2 rounded-md">å…ˆé€²æ„Ÿæ¸¬å™¨éƒ¨ç½²</span>
                        </div>
                        <div class="carousel-slide" style="background-image: url('https://placehold.co/1200x400/9b59b6/ffffff?text=è‡ªå‹•åŒ–ç‘æ°´ç³»çµ±');">
                            <span class="bg-black bg-opacity-50 p-2 rounded-md">è‡ªå‹•åŒ–ç‘æ°´ç³»çµ±</span>
                        </div>
                    </div>
                    <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2" id="home-carousel-dots">
                        <span class="carousel-dot active" data-slide="0"></span>
                        <span class="carousel-dot" data-slide="1"></span>
                        <span class="carousel-dot" data-slide="2"></span>
                    </div>
                </div>
            </section>

            <!-- Main Feature Cards -->
            <section class="mb-10">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ä¸»è¦åŠŸèƒ½ç¸½è¦½</h2>
                <div class="grid feature-cards-grid gap-6">
                    <div class="bg-indigo-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('dashboard')">
                        <div class="text-4xl mb-3 text-indigo-700">ğŸ“Š</div>
                        <h3 class="text-xl font-medium text-indigo-800">å³æ™‚ç›£æ¸¬</h3>
                        <p class="text-gray-600 text-sm">æŒæ¡è¾²å ´å³æ™‚æ•¸æ“š</p>
                    </div>
                    <div class="bg-green-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('dashboard')">
                        <div class="text-4xl mb-3 text-green-700">ğŸŒ±</div>
                        <h3 class="text-xl font-medium text-green-800">ç’°å¢ƒæ„Ÿæ¸¬</h3>
                        <p class="text-gray-600 text-sm">æº«åº¦ã€æ¿•åº¦ã€åœŸå£¤ä¸€è¦½ç„¡éº</p>
                    </div>
                    <div class="bg-red-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('automation')">
                        <div class="text-4xl mb-3 text-red-700">âš™ï¸</div>
                        <h3 class="text-xl font-medium text-red-800">è‡ªå‹•åŒ–æ§åˆ¶</h3>
                        <p class="text-gray-600 text-sm">æ™ºèƒ½ç®¡ç†ç‘æ°´ã€é€šé¢¨</p>
                    </div>
                    <div class="bg-yellow-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('crop-management')">
                        <div class="text-4xl mb-3 text-yellow-700">ğŸŒ¾</div>
                        <h3 class="text-xl font-medium text-yellow-800">è¾²ä½œç®¡ç†</h3>
                        <p class="text-gray-600 text-sm">ä½œç‰©ç”Ÿé•·èˆ‡ç…§ç‰‡è¨˜éŒ„</p>
                    </div>
                    <div class="bg-purple-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('reports-prediction')">
                        <div class="text-4xl mb-3 text-purple-700">ğŸ“ˆ</div>
                        <h3 class="text-xl font-medium text-purple-800">å ±è¡¨èˆ‡é æ¸¬åˆ†æ</h3>
                        <p class="text-gray-600 text-sm">æ•¸æ“šæ´å¯Ÿï¼Œè¼”åŠ©æ±ºç­–</p>
                    </div>
                </div>
            </section>

            <!-- Weather and Quick Access -->
            <section class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                <div class="bg-blue-50 p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-semibold text-blue-700 mb-4">ä»Šæ—¥å¤©æ°£èˆ‡é æ¸¬</h2>
                    <p class="text-gray-700 text-lg mb-2">è¾²å ´åœ°é»ï¼šå°ä¸­å¸‚åé‡Œå€</p>
                    <p id="weather-temp" class="text-gray-700 text-3xl font-bold">28Â°C â˜€ï¸</p>
                    <p id="weather-humidity" class="text-gray-600">æ¿•åº¦ 75%</p>
                    <p id="weather-rain" class="text-gray-600">é™é›¨æ©Ÿç‡ 10%</p>
                    <p id="weather-forecast" class="text-gray-600 text-sm mt-2">é è¨ˆæ˜æ—¥ï¼šå¤šé›²ï¼Œ26Â°C - 32Â°C</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col justify-between">
                    <div>
                        <h2 class="text-2xl font-semibold text-gray-700 mb-4">å¿«é€Ÿå…¥å£</h2>
                        <button class="w-full bg-blue-500 text-white py-3 rounded-md mb-3 hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="showPage('dashboard')">å¿«é€Ÿé€²å…¥æ•¸æ“šå„€è¡¨æ¿</button>
                    </div>
                    <div>
                        <p class="text-center text-gray-600 mb-2">å·²æœ‰å¸³è™Ÿï¼Ÿ</p>
                        <button class="w-full border border-blue-500 text-blue-500 py-3 rounded-md hover:bg-blue-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="alert('æ¨¡æ“¬ç™»å…¥æ“ä½œ...');">ç™»å…¥</button>
                        <p class="text-center text-gray-600 mt-3 mb-2">é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ</p>
                        <button class="w-full bg-blue-700 text-white py-3 rounded-md hover:bg-blue-800 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-700" onclick="alert('æ¨¡æ“¬è¨»å†Šæ“ä½œ...');">è¨»å†Š</button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Page 2: å³æ™‚ç›£æ¸¬å„€è¡¨æ¿ Dashboard -->
        <div id="dashboard" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">å³æ™‚ç›£æ¸¬å„€è¡¨æ¿</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">å³æ™‚æŒæ¡è¾²å ´ç’°å¢ƒèˆ‡ä½œç‰©æ•¸æ“š</p>

            <!-- Data Source Selection -->
            <div class="mb-6 flex flex-col md:flex-row items-center gap-4">
                <label for="sensor-select" class="font-medium text-gray-700">é¸æ“‡æ„Ÿæ¸¬å™¨/å€åŸŸ:</label>
                <select id="sensor-select" class="p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 flex-grow" onchange="updateDashboardCharts()">
                    <option value="all">æ‰€æœ‰æ„Ÿæ¸¬å™¨</option>
                    <option value="field-a">Aåœ°å¡Šæ„Ÿæ¸¬å™¨</option>
                    <option value="greenhouse-1">æº«å®¤1è™Ÿ</option>
                    <option value="field-b">Båœ°å¡Šæ„Ÿæ¸¬å™¨</option>
                </select>
            </div>

            <!-- Real-time Data Charts -->
            <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-gray-700 mb-3">æº«åº¦è®ŠåŒ–æŠ˜ç·šåœ– (24å°æ™‚)</h3>
                    <div id="temp-chart" class="chart-placeholder h-48">
                        <p class="text-2xl text-blue-700 font-bold mb-2"><span id="current-temp">28.5</span>Â°C</p>
                        <p class="text-sm text-gray-600">æœ€é«˜: 30Â°C, æœ€ä½: 22Â°C</p>
                        <div class="w-full bg-blue-200 h-2 rounded-full mt-4 relative">
                            <div class="bg-blue-500 h-2 rounded-full" style="width: 70%;"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">æ¨¡æ“¬éå»24å°æ™‚è®ŠåŒ–</p>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šé¡¯ç¤ºéå»24å°æ™‚çš„æ°£æº«è®ŠåŒ–è¶¨å‹¢ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-gray-700 mb-3">åœŸå£¤æ¿•åº¦åˆ†ä½ˆç†±åŠ›åœ–</h3>
                    <div id="soil-moisture-chart" class="chart-placeholder h-48">
                        <p class="text-2xl text-green-700 font-bold mb-2">å¹³å‡æ¿•åº¦: <span id="current-soil-moisture">65</span>%</p>
                        <div class="grid grid-cols-3 gap-2 w-full mt-4">
                            <div class="h-12 rounded-md flex items-center justify-center text-white text-xs" style="background-color: hsl(120, 60%, 40%);">Aå€ 68%</div>
                            <div class="h-12 rounded-md flex items-center justify-center text-white text-xs" style="background-color: hsl(120, 60%, 50%);">Bå€ 60%</div>
                            <div class="h-12 rounded-md flex items-center justify-center text-white text-xs" style="background-color: hsl(120, 60%, 30%);">Cå€ 75%</div>
                        </div>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šä»¥é¡è‰²æ·±æ·ºå±•ç¤ºä¸åŒåœ°å¡Šçš„åœŸå£¤æ¿•åº¦åˆ†ä½ˆã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-gray-700 mb-3">æ—¥ç…§å¼·åº¦é•·æ¢åœ– (æ¯å°æ™‚)</h3>
                    <div id="sunlight-chart" class="chart-placeholder h-48">
                        <p class="text-2xl text-yellow-700 font-bold mb-2">ç›®å‰æ—¥ç…§: <span id="current-sunlight">8500</span> Lux</p>
                        <div class="flex justify-around items-end w-full h-24 mt-4">
                            <div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 60%;" title="10é»: 7500 Lux"></div>
                            <div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 80%;" title="11é»: 9000 Lux"></div>
                            <div class="bg-yellow-500 w-4 rounded-t-sm" style="height: 95%;" title="12é»: 10000 Lux"></div>
                            <div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 85%;" title="13é»: 9200 Lux"></div>
                            <div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 70%;" title="14é»: 8000 Lux"></div>
                            <div class="bg-yellow-300 w-4 rounded-t-sm" style="height: 40%;" title="15é»: 5000 Lux"></div>
                        </div>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šé¡¯ç¤ºæ¯å°æ™‚çš„å¹³å‡æ—¥ç…§å¼·åº¦ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                    <h3 class="text-xl font-semibold text-gray-700 mb-3">COâ‚‚æ¿ƒåº¦å„€è¡¨æ¿</h3>
                    <div class="gauge-container mb-2">
                        <div class="gauge-fill" id="co2-gauge-fill" style="height: 65%; background-color: #facc15;"></div> <!-- Example: Yellow for medium -->
                        <span class="gauge-value" id="co2-value">550 ppm</span>
                        <span class="gauge-label">COâ‚‚</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šå³æ™‚é¡¯ç¤ºæº«å®¤å…§äºŒæ°§åŒ–ç¢³æ¿ƒåº¦ã€‚</p>
                </div>
            </section>

            <!-- Map Display -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">è¾²å ´æ„Ÿæ¸¬é»ä½ç½®</h2>
                <div class="relative bg-gray-200 h-64 rounded-md flex justify-center items-center text-gray-500 text-lg">
                    <img src="https://placehold.co/800x300/e0e0e0/555555?text=è¾²å ´åœ°åœ–ç¤ºæ„åœ–" alt="è¾²å ´åœ°åœ–ç¤ºæ„åœ–" class="w-full h-full object-cover rounded-md" onerror="this.onerror=null;this.src='https://placehold.co/800x300/e0e0e0/555555?text=åœ°åœ–è¼‰å…¥å¤±æ•—';">
                    <!-- Simulate clickable sensor points -->
                    <div class="absolute top-1/4 left-1/4 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold cursor-pointer" title="æ„Ÿæ¸¬é» A" onclick="showSensorDetail('A', 'æ°£æº«: 27Â°C, åœŸå£¤æ¿•åº¦: 68%, æ—¥ç…§: 8500 Lux');">A</div>
                    <div class="absolute bottom-1/3 right-1/3 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold cursor-pointer" title="æ„Ÿæ¸¬é» B" onclick="showSensorDetail('B', 'æ°£æº«: 26Â°C, åœŸå£¤æ¿•åº¦: 72%, æ—¥ç…§: 7800 Lux');">B</div>
                </div>
                <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šåœ°åœ–ä¸Šé¡¯ç¤ºå„æ„Ÿæ¸¬å™¨çš„åœ°ç†ä½ç½®ï¼Œé»æ“Šå¯æŸ¥çœ‹è©²é»è©³ç´°æ•¸æ“šã€‚</p>
            </section>

            <!-- Sub-Page Menu -->
            <section class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">æ›´å¤šæ•¸æ“šæŸ¥è©¢</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button class="bg-blue-100 text-blue-700 py-3 rounded-md hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="alert('é¡¯ç¤ºæ„Ÿæ¸¬å™¨åˆ—è¡¨åŠç‹€æ…‹ï¼š\n- SENS-001 (æ­£å¸¸)\n- SENS-002 (æ­£å¸¸)\n- SENS-003 (é›¢ç·š)\n- SENS-004 (æ­£å¸¸)');">æ„Ÿæ¸¬å™¨åˆ—è¡¨ / ç‹€æ…‹åœ–ç¤º</button>
                    <div class="flex flex-col">
                        <input type="text" placeholder="æŒ‡å®šæ—¥æœŸå€é–“ (YYYY-MM-DD)" class="p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 mb-2" value="2025-06-01 ~ 2025-06-30">
                        <button class="bg-blue-100 text-blue-700 py-3 rounded-md hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="alert('æŸ¥è©¢æŒ‡å®šæ—¥æœŸå€é–“æ•¸æ“š (2025-06-01 ~ 2025-06-30)ã€‚\né¡¯ç¤ºè©²æœŸé–“çš„æ•¸æ“šç¸½çµèˆ‡è¶¨å‹¢ã€‚');">æ•¸æ“šæŸ¥è©¢</button>
                    </div>
                    <button class="bg-red-100 text-red-700 py-3 rounded-md hover:bg-red-200 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500" onclick="alert('é¡¯ç¤ºè­¦ç¤ºç´€éŒ„ï¼š\n- 2025-06-25 15:00: é«˜æº«è­¦å ± (35Â°C)\n- 2025-06-20 10:00: åœŸå£¤æ¿•åº¦éä½è­¦å ± (15%)\n- 2025-06-18 08:00: æ„Ÿæ¸¬å™¨ SENS-003 é›¢ç·š');">è­¦ç¤ºç´€éŒ„</button>
                </div>
            </section>
        </div>

        <!-- Page 3: æ™ºæ…§è¾²æ¥­è‡ªå‹•åŒ–æ§åˆ¶ -->
        <div id="automation" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">æ™ºæ…§è¾²æ¥­è‡ªå‹•åŒ–æ§åˆ¶</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">æ™ºèƒ½è¨­å‚™ç®¡ç†ï¼Œæå‡ç”Ÿç”¢æ•ˆç‡</p>

            <!-- Device Icons Map (Simulated) -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">è¨­å‚™æ§åˆ¶åœ°åœ–</h2>
                <div class="relative bg-gray-200 h-64 rounded-md flex justify-center items-center text-gray-500 text-lg">
                    <img src="https://placehold.co/800x300/c7d2fe/4338ca?text=è¨­å‚™éƒ¨ç½²åœ°åœ–" alt="è¨­å‚™éƒ¨ç½²åœ°åœ–" class="w-full h-full object-cover rounded-md" onerror="this.onerror=null;this.src='https://placehold.co/800x300/c7d2fe/4338ca?text=åœ°åœ–è¼‰å…¥å¤±æ•—';">
                    <!-- Simulated clickable device icons -->
                    <div id="sprinkler-a" class="absolute top-1/4 left-1/4 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white text-2xl font-bold cursor-pointer" title="ç‘æ°´å™¨ A (ç‹€æ…‹: é–‹å•Ÿ)" data-device="ç‘æ°´å™¨ A" data-status="é–‹å•Ÿ" onclick="showControlModal(this);">ğŸ’§</div>
                    <div id="fan-1" class="absolute top-1/2 right-1/4 w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl font-bold cursor-pointer" title="æ’é¢¨æ‰‡ 1 (ç‹€æ…‹: é—œé–‰)" data-device="æ’é¢¨æ‰‡ 1" data-status="é—œé–‰" onclick="showControlModal(this);">ğŸŒ¬ï¸</div>
                    <div id="led-light-2" class="absolute bottom-1/4 left-1/2 w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-white text-2xl font-bold cursor-pointer" title="LED è£œå…‰ç‡ˆ 2 (ç‹€æ…‹: è‡ªå‹•)" data-device="LED è£œå…‰ç‡ˆ 2" data-status="è‡ªå‹•" onclick="showControlModal(this);">ğŸ’¡</div>
                </div>
                <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šé»æ“Šåœ°åœ–ä¸Šçš„è¨­å‚™åœ–ç¤ºï¼Œå¯é–‹å•Ÿå°æ‡‰çš„æ§åˆ¶ä»‹é¢ã€‚</p>
            </section>

            <!-- Automation Condition Setting -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">è‡ªå‹•åŒ–æ¢ä»¶è¨­å®š</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="device-select-auto" class="block text-gray-700 text-sm font-bold mb-2">é¸æ“‡è¨­å‚™:</label>
                        <select id="device-select-auto" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-blue-500 focus:border-blue-500">
                            <option value="sprinkler">ç‘æ°´å™¨</option>
                            <option value="fan">æ’é¢¨æ‰‡</option>
                            <option value="light">LED è£œå…‰ç‡ˆ</option>
                            <option value="drip">æ»´çŒç³»çµ±</option>
                        </select>
                    </div>
                    <div>
                        <label for="mode-toggle" class="block text-gray-700 text-sm font-bold mb-2">æ§åˆ¶æ¨¡å¼:</label>
                        <div class="flex items-center space-x-4">
                            <input type="radio" id="mode-auto" name="control-mode" value="è‡ªå‹•" checked class="form-radio text-blue-600 h-5 w-5">
                            <label for="mode-auto" class="text-gray-700">è‡ªå‹•</label>
                            <input type="radio" id="mode-manual" name="control-mode" value="æ‰‹å‹•" class="form-radio text-blue-600 h-5 w-5">
                            <label for="mode-manual" class="text-gray-700">æ‰‹å‹•</label>
                        </div>
                    </div>
                </div>

                <div class="mt-6 p-4 border border-blue-200 bg-blue-50 rounded-md">
                    <h3 class="text-lg font-semibold text-blue-800 mb-3">è¨­å®šè‡ªå‹•åŒ–è¦å‰‡ (ç¯„ä¾‹)</h3>
                    <div class="flex flex-wrap items-center gap-3 mb-3">
                        <span class="text-gray-700">ç•¶</span>
                        <select id="condition1-param" class="p-2 border rounded-md">
                            <option value="temp">æº«åº¦</option>
                            <option value="humidity">æ¿•åº¦</option>
                            <option value="soil">åœŸå£¤æ¿•åº¦</option>
                            <option value="light">æ—¥ç…§</option>
                        </select>
                        <select id="condition1-op" class="p-2 border rounded-md">
                            <option value=">">></option>
                            <option value="<"><</option>
                            <option value="=">=</option>
                        </select>
                        <input type="number" id="condition1-value" placeholder="æ•¸å€¼" class="p-2 border rounded-md w-24" value="30">
                        <span class="text-gray-700">Â°C ä¸”</span>
                        <select id="condition2-param" class="p-2 border rounded-md">
                            <option value="humidity">æ¿•åº¦</option>
                            <option value="temp">æº«åº¦</option>
                        </select>
                        <select id="condition2-op" class="p-2 border rounded-md">
                            <option value="<"><</option>
                            <option value=">">></option>
                            <option value="=">=</option>
                        </select>
                        <input type="number" id="condition2-value" placeholder="æ•¸å€¼" class="p-2 border rounded-md w-24" value="40">
                        <span class="text-gray-700">% å‰‡</span>
                        <select id="action-device" class="p-2 border rounded-md">
                            <option value="sprinkler">è‡ªå‹•ç‘æ°´</option>
                            <option value="fan">é–‹å•Ÿæ’é¢¨æ‰‡</option>
                            <option value="light">é–‹å•Ÿè£œå…‰ç‡ˆ</option>
                        </select>
                    </div>
                    <button class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="saveAutomationCondition();">å„²å­˜æ¢ä»¶</button>
                </div>
            </section>

            <!-- Operation History Record -->
            <section class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">æ“ä½œæ­·å²ç´€éŒ„</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ™‚é–“</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è¨­å‚™</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å‹•ä½œ</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ¨¡å¼</th>
                            </tr>
                        </thead>
                        <tbody id="operation-history-table" class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2025-06-28 14:30</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ç‘æ°´å™¨ A</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">é–‹å•Ÿ</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">è‡ªå‹•</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2025-06-28 10:00</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">æ’é¢¨æ‰‡ 1</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-red-600">é—œé–‰</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">æ‰‹å‹•</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2025-06-27 20:00</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">LED è£œå…‰ç‡ˆ 2</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">é–‹å•Ÿ</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">è‡ªå‹•</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Control Modal (simulated) -->
            <div id="controlModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center hidden z-50">
                <div class="bg-white p-8 rounded-lg shadow-xl w-96">
                    <h3 class="text-2xl font-bold mb-4" id="modalTitle"></h3>
                    <p class="mb-2 text-gray-700">æ‚¨æ­£åœ¨æ§åˆ¶ <span id="modalDeviceName" class="font-semibold text-blue-700"></span>ã€‚</p>
                    <p class="mb-6 text-gray-700">ç›®å‰ç‹€æ…‹: <span id="modalDeviceStatus" class="font-semibold text-gray-700"></span></p>
                    <div class="flex justify-around mb-6">
                        <button class="bg-green-500 text-white px-6 py-3 rounded-md hover:bg-green-600 transition-colors" onclick="controlDevice('é–‹å•Ÿ');">é–‹å•Ÿ</button>
                        <button class="bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 transition-colors" onclick="controlDevice('é—œé–‰');">é—œé–‰</button>
                    </div>
                    <button class="w-full bg-gray-200 text-gray-700 py-2 rounded-md hover:bg-gray-300 transition-colors" onclick="hideControlModal()">å–æ¶ˆ</button>
                </div>
            </div>
        </div>

        <!-- Page 4: è¾²ä½œç‰©ç”Ÿé•·ç®¡ç†å€ -->
        <div id="crop-management" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">è¾²ä½œç‰©ç”Ÿé•·ç®¡ç†å€</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">è¿½è¹¤è¾²ä½œç‰©ç”Ÿé•·æ­·ç¨‹èˆ‡é—œéµç´€éŒ„</p>

            <!-- Crop Records -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">å„å€å¡Šè¾²ä½œç´€éŒ„</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 p-4 rounded-md border border-gray-200">
                        <h3 class="text-xl font-medium text-gray-800 mb-2">åœ°å¡Š A - ç‰ç±³</h3>
                        <p class="text-gray-600 text-sm mb-1">æ’­ç¨®æ—¥æœŸï¼š2025-03-15</p>
                        <p class="text-gray-600 text-sm mb-1">æ–½è‚¥ç´€éŒ„ï¼š2025-04-01 (æœ‰æ©Ÿè‚¥), 2025-05-10 (N-P-K)</p>
                        <p class="text-gray-600 text-sm">é è¨ˆæ¡æ”¶ï¼š2025-07-20</p>
                        <textarea id="crop-record-a" class="mt-3 w-full p-2 border border-gray-300 rounded-md" rows="3" placeholder="æ·»åŠ æ›´å¤šè¨˜éŒ„..."></textarea>
                        <button class="mt-2 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors text-sm" onclick="saveCropRecord('åœ°å¡Š A', document.getElementById('crop-record-a').value);">å„²å­˜ç´€éŒ„</button>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-md border border-gray-200">
                        <h3 class="text-xl font-medium text-gray-800 mb-2">æº«å®¤ 1 - è‰è“</h3>
                        <p class="text-gray-600 text-sm mb-1">å®šæ¤æ—¥æœŸï¼š2025-01-20</p>
                        <p class="text-gray-600 text-sm mb-1">æ–½è‚¥ç´€éŒ„ï¼šæ¯é€±æ»´çŒç‡Ÿé¤Šæ¶²</p>
                        <p class="text-gray-600 text-sm">å·²æ¡æ”¶æ‰¹æ¬¡ï¼š5</p>
                        <textarea id="crop-record-b" class="mt-3 w-full p-2 border border-gray-300 rounded-md" rows="3" placeholder="æ·»åŠ æ›´å¤šè¨˜éŒ„..."></textarea>
                        <button class="mt-2 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors text-sm" onclick="saveCropRecord('æº«å®¤ 1', document.getElementById('crop-record-b').value);">å„²å­˜ç´€éŒ„</button>
                    </div>
                </div>
            </section>

            <!-- Image Management -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ç”°é–“åœ–åƒç®¡ç†</h2>
                <div class="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6">
                    <!-- Example thumbnails -->
                    <img src="https://placehold.co/100x100/A0DA8C/FFFFFF?text=D1" alt="ä½œç‰©ç…§ç‰‡ 2025-05-01" class="w-full h-24 object-cover rounded-md cursor-pointer hover:shadow-lg transition-shadow" onclick="showImageDetail('https://placehold.co/600x400/A0DA8C/FFFFFF?text=2025-05-01+ä½œç‰©é«˜åº¦20cm', '2025-05-01', 'æ°£æº«: 25.1Â°C, åœŸå£¤æ¿•åº¦: 60%, PH: 6.5');">
                    <img src="https://placehold.co/100x100/7DB95C/FFFFFF?text=D2" alt="ä½œç‰©ç…§ç‰‡ 2025-05-08" class="w-full h-24 object-cover rounded-md cursor-pointer hover:shadow-lg transition-shadow" onclick="showImageDetail('https://placehold.co/600x400/7DB95C/FFFFFF?text=2025-05-08+ä½œç‰©é«˜åº¦28cm', '2025-05-08', 'æ°£æº«: 27.3Â°C, åœŸå£¤æ¿•åº¦: 55%, PH: 6.7');">
                    <img src="https://placehold.co/100x100/5E9A3E/FFFFFF?text=D3" alt="ä½œç‰©ç…§ç‰‡ 2025-05-15" class="w-full h-24 object-cover rounded-md cursor-pointer hover:shadow-lg transition-shadow" onclick="showImageDetail('https://placehold.co/600x400/5E9A3E/FFFFFF?text=2025-05-15+ä½œç‰©é«˜åº¦35cm', '2025-05-15', 'æ°£æº«: 26.8Â°C, åœŸå£¤æ¿•åº¦: 62%, PH: 6.6');">
                    <img src="https://placehold.co/100x100/4F8A32/FFFFFF?text=D4" alt="ä½œç‰©ç…§ç‰‡ 2025-05-22" class="w-full h-24 object-cover rounded-md cursor-pointer hover:shadow-lg transition-shadow" onclick="showImageDetail('https://placehold.co/600x400/4F8A32/FFFFFF?text=2025-05-22+ä½œç‰©é«˜åº¦42cm', '2025-05-22', 'æ°£æº«: 28.0Â°C, åœŸå£¤æ¿•åº¦: 58%, PH: 6.8');">
                    <img src="https://placehold.co/100x100/3E7A2E/FFFFFF?text=D5" alt="ä½œç‰©ç…§ç‰‡ 2025-05-29" class="w-full h-24 object-cover rounded-md cursor-pointer hover:shadow-lg transition-shadow" onclick="showImageDetail('https://placehold.co/600x400/3E7A2E/FFFFFF?text=2025-05-29+ä½œç‰©é«˜åº¦50cm', '2025-05-29', 'æ°£æº«: 29.2Â°C, åœŸå£¤æ¿•åº¦: 59%, PH: 6.9');">
                    <img src="https://placehold.co/100x100/2D6A1E/FFFFFF?text=D6" alt="ä½œç‰©ç…§ç‰‡ 2025-06-05" class="w-full h-24 object-cover rounded-md cursor-pointer hover:shadow-lg transition-shadow" onclick="showImageDetail('https://placehold.co/600x400/2D6A1E/FFFFFF?text=2025-06-05+ä½œç‰©é«˜åº¦58cm', '2025-06-05', 'æ°£æº«: 27.5Â°C, åœŸå£¤æ¿•åº¦: 65%, PH: 6.7');">
                </div>
                <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šé»é¸å°ç¸®åœ–ï¼Œå°‡é¡¯ç¤ºè©²æ—¥æœŸçš„æ”¾å¤§åœ–ç‰‡èˆ‡ç–ŠåŠ çš„ç’°å¢ƒæ•¸æ“šã€‚</p>
                <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 transition-colors text-sm" onclick="simulateGifGeneration();">ç”Ÿæˆé€±æˆé•·GIFç´€éŒ„</button>
            </section>

            <!-- Image Detail Modal (simulated) -->
            <div id="imageDetailModal" class="fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center hidden z-50">
                <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full">
                    <img id="modalImage" src="" alt="ä½œç‰©è©³æƒ…ç…§ç‰‡" class="w-full h-auto rounded-md mb-4">
                    <p class="text-lg font-semibold text-gray-800" id="modalImageDate"></p>
                    <p class="text-gray-600 mb-4" id="modalImageData"></p>
                    <button class="w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition-colors" onclick="hideImageDetailModal()">é—œé–‰</button>
                </div>
            </div>

            <!-- Growth Curve Chart -->
            <section class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ä½œç‰©æˆé•·æ›²ç·šåœ–</h2>
                <div id="growth-chart" class="chart-placeholder h-64">
                    <p class="text-2xl text-purple-700 font-bold mb-2">ä½œç‰©å¹³å‡é«˜åº¦: <span id="current-crop-height">55</span> cm</p>
                    <div class="flex justify-around items-end w-full h-48 mt-4">
                        <div class="bg-purple-300 w-6 rounded-t-sm" style="height: 40%;" title="ç¬¬2é€±: 20cm"></div>
                        <div class="bg-purple-400 w-6 rounded-t-sm" style="height: 55%;" title="ç¬¬3é€±: 28cm"></div>
                        <div class="bg-purple-500 w-6 rounded-t-sm" style="height: 70%;" title="ç¬¬4é€±: 35cm"></div>
                        <div class="bg-purple-600 w-6 rounded-t-sm" style="height: 85%;" title="ç¬¬5é€±: 42cm"></div>
                        <div class="bg-purple-700 w-6 rounded-t-sm" style="height: 95%;" title="ç¬¬6é€±: 50cm"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">æ¨¡æ“¬ä½œç‰©é«˜åº¦æˆé•·è¶¨å‹¢</p>
                </div>
                <p class="text-sm text-gray-500 mt-2">æè¿°ï¼šè¿½è¹¤ä½œç‰©é«˜åº¦ã€è‘‰ç‰‡æ•¸é‡ç­‰ç”Ÿé•·æŒ‡æ¨™çš„è®ŠåŒ–æ›²ç·šã€‚</p>
            </section>
        </div>

        <!-- Page 5: åˆ†æå ±è¡¨èˆ‡é æ¸¬ç³»çµ± -->
        <div id="reports-prediction" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">åˆ†æå ±è¡¨èˆ‡é æ¸¬ç³»çµ±</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">é€éæ•¸æ“šåˆ†æèˆ‡é æ¸¬ï¼Œå„ªåŒ–ç”Ÿç”¢æ±ºç­–</p>

            <!-- Statistical Report Generation -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">çµ±è¨ˆå ±è¡¨ç”¢ç”Ÿ</h2>
                <div class="flex flex-wrap gap-4 mb-4">
                    <div class="flex-1 min-w-[200px]">
                        <label for="report-type" class="block text-gray-700 text-sm font-bold mb-2">å ±è¡¨é¡å‹:</label>
                        <select id="report-type" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-blue-500 focus:border-blue-500">
                            <option value="ç”Ÿç”¢é‡å ±è¡¨">ç”Ÿç”¢é‡å ±è¡¨</option>
                            <option value="ç”¨æ°´ç”¨é›»å ±è¡¨">ç”¨æ°´ç”¨é›»å ±è¡¨</option>
                            <option value="æ„Ÿæ¸¬æ•¸æ“šç¸½çµ">æ„Ÿæ¸¬æ•¸æ“šç¸½çµ</option>
                        </select>
                    </div>
                    <div class="flex-1 min-w-[200px]">
                        <label for="report-start-date" class="block text-gray-700 text-sm font-bold mb-2">é–‹å§‹æ—¥æœŸ:</label>
                        <input type="date" id="report-start-date" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-blue-500 focus:border-blue-500" value="2025-06-01">
                    </div>
                    <div class="flex-1 min-w-[200px]">
                        <label for="report-end-date" class="block text-gray-700 text-sm font-bold mb-2">çµæŸæ—¥æœŸ:</label>
                        <input type="date" id="report-end-date" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-blue-500 focus:border-blue-500" value="2025-06-30">
                    </div>
                </div>
                <div class="flex gap-4">
                    <button class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="simulateReportDownload('PDF');">ä¸‹è¼‰ PDF</button>
                    <button class="bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500" onclick="simulateReportDownload('Excel');">ä¸‹è¼‰ Excel</button>
                </div>
            </section>

            <!-- Prediction Model -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">é æ¸¬æ¨¡å‹</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-medium text-gray-800 mb-2">ä¸‹ä¸€é€±çŒæº‰éœ€æ±‚é æ¸¬</h3>
                        <div id="irrigation-prediction-chart" class="chart-placeholder h-48 mb-3">
                            <p class="text-2xl text-blue-700 font-bold mb-2"><span id="predicted-irrigation">1500</span> å…¬å‡/å…¬é ƒ</p>
                            <p class="text-sm text-gray-600">é æ¸¬è¶¨å‹¢: <span id="irrigation-trend">ç©©å®š</span></p>
                        </div>
                        <p class="text-gray-600">æ ¹æ“šæ°£å€™æ¨¡å‹å’Œä½œç‰©ç”Ÿé•·éšæ®µï¼Œé è¨ˆæœªä¾†ä¸€é€±çŒæº‰éœ€æ±‚é‡ç‚º <span id="predicted-irrigation-value" class="font-bold text-blue-700">1500 å…¬å‡/å…¬é ƒ</span>ã€‚</p>
                        <p class="text-sm text-gray-500 mt-1">å»ºè­°ï¼šé€±ä¸‰å’Œé€±å…­é€²è¡Œä¸»è¦çŒæº‰ã€‚</p>
                        <button class="mt-2 bg-indigo-500 text-white px-3 py-1 rounded-md text-sm hover:bg-indigo-600" onclick="updatePredictions()">æ›´æ–°é æ¸¬</button>
                    </div>
                    <div>
                        <h3 class="text-xl font-medium text-gray-800 mb-2">é æ¸¬æ”¶æˆé‡</h3>
                        <div id="yield-prediction-chart" class="chart-placeholder h-48 mb-3">
                            <p class="text-2xl text-green-700 font-bold mb-2"><span id="predicted-yield">5.2</span> å™¸/å…¬é ƒ</p>
                            <p class="text-sm text-gray-600">é æ¸¬æº–ç¢ºåº¦: <span id="yield-accuracy">88</span>%</p>
                        </div>
                        <p class="text-gray-600">ä¾æ“šä½œç‰©å¥åº·åº¦ã€ç’°å¢ƒæ•¸æ“šèˆ‡æ­·å²æ”¶æˆç´€éŒ„ï¼Œé æ¸¬æœ¬å­£ç‰ç±³æ”¶æˆé‡ç´„ç‚º <span id="predicted-yield-value" class="font-bold text-green-700">5.2 å™¸/å…¬é ƒ</span>ã€‚</p>
                        <p class="text-sm text-gray-500 mt-1">é æ¸¬æº–ç¢ºåº¦ï¼š<span id="yield-accuracy-value">88</span>%ã€‚</p>
                    </div>
                </div>
            </section>

            <!-- Chart Types -->
            <section class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">å¸¸ç”¨åˆ†æåœ–è¡¨</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-blue-50 p-4 rounded-md">
                        <h3 class="text-xl font-medium text-blue-800 mb-2">ç”Ÿç”¢é‡æœˆè¶¨å‹¢</h3>
                        <div class="chart-placeholder h-48">
                            <p>æ¨¡æ“¬æŠ˜ç·šåœ–</p>
                            <p class="text-sm">è¶¨å‹¢: <span class="text-green-600">ä¸Šå‡</span></p>
                        </div>
                    </div>
                    <div class="bg-green-50 p-4 rounded-md">
                        <h3 class="text-xl font-medium text-green-800 mb-2">ç”¨æ°´ç”¨é›»é‡</h3>
                        <div class="chart-placeholder h-48">
                            <p>æ¨¡æ“¬é›™è»¸åœ–</p>
                            <p class="text-sm">ç”¨æ°´: 1200mÂ³, ç”¨é›»: 800kWh</p>
                        </div>
                    </div>
                    <div class="bg-purple-50 p-4 rounded-md">
                        <h3 class="text-xl font-medium text-purple-800 mb-2">é æ¸¬æ”¶æˆè¶¨å‹¢</h3>
                        <div class="chart-placeholder h-48">
                            <p>æ¨¡æ“¬é•·æ¢åœ–</p>
                            <p class="text-sm">é è¨ˆç”¢é‡: 5.2 å™¸/å…¬é ƒ</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Page 6: ç³»çµ±è¨­å®šèˆ‡ç®¡ç† -->
        <div id="settings" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">ç³»çµ±è¨­å®šèˆ‡ç®¡ç†</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">ç®¡ç†ç”¨æˆ¶æ¬Šé™ã€æ„Ÿæ¸¬å™¨èˆ‡è¾²å ´å€åŸŸ</p>

            <!-- User Permission Management -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ä½¿ç”¨è€…æ¬Šé™ç®¡ç†</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">å§“å</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">è§’è‰²</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">é›»å­éƒµä»¶</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody id="user-management-table" class="bg-white divide-y divide-gray-200">
                            <!-- User rows will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
                <button class="mt-4 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors" onclick="addUser();">æ–°å¢ä½¿ç”¨è€…</button>
            </section>

            <!-- Sensor Maintenance Records -->
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">æ„Ÿæ¸¬å™¨ç¶­è­·ç´€éŒ„</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">æ„Ÿæ¸¬å™¨ID</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç¶­è­·æ—¥æœŸ</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç¶­è­·å…§å®¹</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ç‹€æ…‹</th>
                            </tr>
                        </thead>
                        <tbody id="sensor-maintenance-table" class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SENS-001</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2025-06-10</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">é›»æ± æ›´æ›ã€æ ¡æº–</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">æ­£å¸¸</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SENS-005</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2025-05-20</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">æ¸…æ½”æ¢é ­</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">æ­£å¸¸</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button class="mt-4 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors" onclick="addMaintenanceRecord();">æ–°å¢ç¶­è­·è¨˜éŒ„</button>
            </section>

            <!-- Custom Farm Area -->
            <section class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">è‡ªå®šç¾©è¾²å ´å€åŸŸ</h2>
                <div class="bg-gray-100 h-64 rounded-md flex justify-center items-center text-gray-500 text-lg mb-4">
                    <img src="https://placehold.co/800x300/F0F4F8/64748b?text=è¾²å ´å€åŸŸç¹ªåœ–å€" alt="è¾²å ´å€åŸŸç¹ªåœ–å€" class="w-full h-full object-cover rounded-md" onerror="this.onerror=null;this.src='https://placehold.co/800x300/F0F4F8/64748b?text=å€åŸŸç¹ªåœ–è¼‰å…¥å¤±æ•—';">
                </div>
                <p class="text-gray-600 mb-4">æ‚¨å¯ä»¥åœ¨æ­¤è™•ä¸Šå‚³è¾²å ´åœ°åœ–åœ–ç‰‡ï¼Œæˆ–é€éæ‹–æ‹‰æ–¹å¼åœ¨åœ°åœ–ä¸ŠåŠƒå®šä¸åŒçš„ç¨®æ¤å€åŸŸï¼Œä¸¦ç‚ºæ¯å€‹å€åŸŸå‘½åå’Œè¨­å®šå±¬æ€§ã€‚</p>
                <input type="file" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mb-4" onchange="uploadFarmMap(event)">
                <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors" onclick="alert('æ¨¡æ“¬å„²å­˜å€åŸŸè¨­å®š');">å„²å­˜å€åŸŸè¨­å®š</button>
            </section>
        </div>

        <!-- Page 7: æ‰‹æ©Ÿç‰ˆ / å¹³æ¿äº’å‹•è¨­è¨ˆ -->
        <div id="mobile-design" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">æ‰‹æ©Ÿ / å¹³æ¿äº’å‹•è¨­è¨ˆ</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">å°ˆç‚ºè¡Œå‹•è£ç½®å„ªåŒ–ï¼Œéš¨æ™‚éš¨åœ°è¼•é¬†ç®¡ç†</p>

            <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">éŸ¿æ‡‰å¼è¨­è¨ˆ</h2>
                <p class="text-gray-700 mb-3">æ­¤ç³»çµ±æ¡ç”¨ Tailwind CSS æ¡†æ¶ï¼Œç¢ºä¿é é¢åœ¨ä¸åŒå°ºå¯¸çš„è¢å¹•ä¸Šï¼ˆæ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢ï¼‰éƒ½èƒ½è‡ªå‹•èª¿æ•´ä½ˆå±€å’Œå…ƒç´ å¤§å°ï¼Œæä¾›æœ€ä½³çš„è¦–è¦ºé«”é©—ã€‚</p>
                <div class="flex justify-center items-center gap-6 flex-wrap">
                    <img src="https://placehold.co/150x250/E0E7FF/4338CA?text=æ‰‹æ©Ÿè¦–åœ–" alt="æ‰‹æ©Ÿè¦–åœ–" class="rounded-lg shadow-md border border-blue-200">
                    <img src="https://placehold.co/300x200/DBEAFE/1D4ED8?text=å¹³æ¿è¦–åœ–" alt="å¹³æ¿è¦–åœ–" class="rounded-lg shadow-md border border-blue-300">
                    <img src="https://placehold.co/400x250/BFDBFE/2563EB?text=æ¡Œé¢è¦–åœ–" alt="æ¡Œé¢è¦–åœ–" class="rounded-lg shadow-md border border-blue-400">
                </div>
                <p class="text-sm text-gray-500 mt-4">æè¿°ï¼šåœ–ç‰‡å±•ç¤ºäº†ç¶²é åœ¨ä¸åŒè¨­å‚™ä¸Šçš„é©æ‡‰æ€§ã€‚</p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">åŠŸèƒ½é‡é» (è¡Œå‹•ç‰ˆ)</h2>
                <ul class="list-disc list-inside text-gray-700 space-y-3">
                    <li>
                        <strong class="text-blue-700">åœ–ç‰‡èˆ‡æ•¸æ“šåŒæ­¥åˆ‡æ›:</strong> åœ¨æ‰‹æ©Ÿæˆ–å¹³æ¿ä¸Šç€è¦½ç”°é–“ç…§ç‰‡æ™‚ï¼Œé»æ“Šåœ–ç‰‡æœƒè‡ªå‹•ç–ŠåŠ é¡¯ç¤ºè©²ç…§ç‰‡æ‹æ”æ™‚çš„ç’°å¢ƒæ•¸æ“šï¼ˆå¦‚æ°£æº«ã€æ¿•åº¦ã€æ—¥ç…§ç­‰ï¼‰ï¼Œæä¾›æ›´ç›´è§€çš„ä¸Šä¸‹æ–‡è³‡è¨Šã€‚
                    </li>
                    <li>
                        <strong class="text-blue-700">åœ°åœ–é»æ“Š + æ‹ç…§ä¸Šå‚³åŠŸèƒ½ (å·¡æª¢å›å ±):</strong> è¾²å ´å·¡æª¢äººå“¡å¯ç›´æ¥åœ¨è¡Œå‹•è£ç½®çš„åœ°åœ–ä»‹é¢ä¸Šé»æ“Šä»»ä¸€æ„Ÿæ¸¬é»æˆ–å€åŸŸï¼Œä¸¦åˆ©ç”¨æ‰‹æ©Ÿæ”åƒé ­å³æ™‚æ‹ç…§ä¸Šå‚³ï¼ŒåŒæ™‚é™„å¸¶æ–‡å­—å‚™è¨»ï¼Œç”¨æ–¼è¨˜éŒ„ç•°å¸¸ç‹€æ³æˆ–ä½œç‰©ç”Ÿé•·æƒ…æ³ï¼Œå³æ™‚å›å ±è‡³ç³»çµ±ã€‚
                        <button class="ml-2 bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm hover:bg-blue-200" onclick="alert('æ¨¡æ“¬é–‹å•Ÿç›¸æ©Ÿä¸¦ä¸Šå‚³ç…§ç‰‡è‡³åœ°åœ–é»ä½...');">æ¨¡æ“¬æ‹ç…§ä¸Šå‚³</button>
                    </li>
                    <li>
                        <strong class="text-blue-700">æ¨æ’­åŠŸèƒ½ (ç•°å¸¸è­¦å ±):</strong> ç•¶ç³»çµ±ç›£æ¸¬åˆ°ç•°å¸¸æƒ…æ³ï¼ˆå¦‚é«˜æº«ã€ä¹¾æ—±è­¦å ±ã€è¨­å‚™æ•…éšœï¼‰æ™‚ï¼Œæœƒç«‹å³é€éè¡Œå‹•æ‡‰ç”¨ç¨‹å¼æˆ–ç¶²é ç€è¦½å™¨å‘ç®¡ç†å“¡å’Œç›¸é—œè¾²å¤«æ¨æ’­é€šçŸ¥ï¼Œç¢ºä¿å•é¡Œèƒ½è¢«è¿…é€Ÿç™¼ç¾èˆ‡è™•ç†ã€‚
                        <button class="ml-2 bg-red-100 text-red-700 px-3 py-1 rounded-md text-sm hover:bg-red-200" onclick="alert('æ¨¡æ“¬ç™¼é€ç•°å¸¸è­¦å ±æ¨æ’­é€šçŸ¥ï¼š\nã€Œè­¦å‘Šï¼æº«å®¤1è™Ÿæº«åº¦éé«˜ (38Â°C)ã€‚ã€');">æ¨¡æ“¬æ¨æ’­è­¦å ±</button>
                    </li>
                    <li>
                        <strong class="text-blue-700">ç°¡åŒ–æ“ä½œä»‹é¢:</strong> è¡Œå‹•ç‰ˆä»‹é¢æœƒé‡å°è§¸æ§æ“ä½œé€²è¡Œå„ªåŒ–ï¼ŒæŒ‰éˆ•å’Œè¼¸å…¥æ¡†æ›´å¤§ï¼Œæµç¨‹æ›´ç°¡æ½”ï¼Œæ–¹ä¾¿å–®æ‰‹æ“ä½œã€‚
                    </li>
                    <li>
                        <strong class="text-blue-700">é›¢ç·šæ•¸æ“šç·©å­˜ (æ¦‚å¿µ):</strong> è€ƒæ…®åˆ°è¾²å ´å¯èƒ½ç¶²è·¯ä¸ç©©ï¼Œæœªä¾†å¯å¯¦ä½œéƒ¨åˆ†æ•¸æ“šé›¢ç·šç·©å­˜åŠŸèƒ½ï¼Œç¢ºä¿åœ¨ç„¡ç¶²è·¯æƒ…æ³ä¸‹ä»èƒ½æŸ¥çœ‹åŸºç¤æ•¸æ“šå’Œè¨˜éŒ„ã€‚
                    </li>
                </ul>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">é æœŸæ•ˆç›Š</h2>
                <p class="text-gray-700">è¡Œå‹•ç‰ˆè¨­è¨ˆå°‡æ¥µå¤§æå‡ç³»çµ±çš„å¯¦ç”¨æ€§å’Œä¾¿æ·æ€§ï¼Œè®“è¾²å ´ç®¡ç†äººå“¡èƒ½å¤ éš¨æ™‚éš¨åœ°æŒæ¡è¾²å ´ç‹€æ³ï¼Œå¿«é€ŸéŸ¿æ‡‰å•é¡Œï¼Œå¯¦ç¾çœŸæ­£çš„æ™ºæ…§åŒ–è¾²æ¥­ç”Ÿç”¢ã€‚</p>
            </div>
        </div>

        <!-- Page 8: AIå®¢æœRobot -->
        <div id="ai-chatbot" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">AIå®¢æœRobot</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">æ‚¨çš„æ™ºæ…§è¾²æ¥­åŠ©ç†ï¼Œéš¨æ™‚æä¾›å¹«åŠ©ï¼</p>

            <div class="bg-white p-6 rounded-lg shadow-md h-[500px] flex flex-col">
                <div id="chat-messages" class="flex-1 overflow-y-auto border border-gray-200 rounded-md p-4 mb-4 space-y-4">
                    <div class="flex justify-start">
                        <div class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg max-w-xs">æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„AIå®¢æœï¼Œè«‹å•æœ‰ä»€éº¼å¯ä»¥å”åŠ©æ‚¨çš„å—ï¼Ÿæ‚¨å¯ä»¥å•æˆ‘é—œæ–¼ã€Œæº«åº¦ã€ã€ã€Œç‘æ°´ã€æˆ–ã€Œé æ¸¬æ”¶æˆã€çš„å•é¡Œã€‚</div>
                    </div>
                </div>
                <div class="flex">
                    <input type="text" id="chat-input" class="flex-1 p-3 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="è¼¸å…¥æ‚¨çš„å•é¡Œ...">
                    <button class="bg-emerald-500 text-white px-6 py-3 rounded-r-md hover:bg-emerald-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500" onclick="sendChatMessage()">ç™¼é€</button>
                </div>
            </div>
            <p class="text-sm text-gray-500 mt-4 text-center">æè¿°ï¼šAIå®¢æœRobotå¯ä»¥å›ç­”é—œæ–¼è¾²å ´æ•¸æ“šã€è¨­å‚™æ“ä½œã€ä½œç‰©ç®¡ç†ç­‰å•é¡Œã€‚</p>
        </div>

        <!-- Page 9: Anomaly Notification (ç•°å¸¸é€šçŸ¥) -->
        <div id="anomaly-notification" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">ç•°å¸¸é€šçŸ¥è¨­å®š</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">ç®¡ç†ç•°å¸¸äº‹ä»¶çš„é€šçŸ¥æ–¹å¼ï¼Œç¢ºä¿æ‚¨èƒ½å³æ™‚æ”¶åˆ°é‡è¦è³‡è¨Šã€‚</p>

            <section class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">Line@ ä¸²æ¥è¨­å®š</h2>
                <p class="text-gray-700 mb-6">é€éä¸²æ¥ Line@ å®˜æ–¹å¸³è™Ÿï¼Œæ‚¨å¯ä»¥å°‡ç³»çµ±çš„ç•°å¸¸é€šçŸ¥å³æ™‚ç™¼é€åˆ°æ‚¨çš„ Line è¨Šæ¯ä¸­ã€‚</p>

                <div class="space-y-4">
                    <div>
                        <label for="line-channel-id" class="block text-gray-700 text-sm font-bold mb-2">Line Channel ID:</label>
                        <input type="text" id="line-channel-id" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-emerald-500 focus:border-emerald-500" placeholder="è«‹è¼¸å…¥æ‚¨çš„ Line Channel ID">
                    </div>
                    <div>
                        <label for="line-channel-secret" class="block text-gray-700 text-sm font-bold mb-2">Line Channel Secret:</label>
                        <input type="password" id="line-channel-secret" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-emerald-500 focus:border-emerald-500" placeholder="è«‹è¼¸å…¥æ‚¨çš„ Line Channel Secret">
                    </div>
                    <div>
                        <label for="line-access-token" class="block text-gray-700 text-sm font-bold mb-2">Line Access Token:</label>
                        <input type="password" id="line-access-token" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-emerald-500 focus:border-emerald-500" placeholder="è«‹è¼¸å…¥æ‚¨çš„ Line Access Token">
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="enable-line-notify" class="form-checkbox h-5 w-5 text-emerald-600 rounded">
                        <label for="enable-line-notify" class="ml-2 text-gray-700">å•Ÿç”¨ Line é€šçŸ¥</label>
                    </div>
                </div>

                <div class="mt-8 flex justify-end gap-4">
                    <button class="bg-gray-300 text-gray-800 px-6 py-3 rounded-md hover:bg-gray-400 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500" onclick="resetLineSettings()">é‡è¨­</button>
                    <button class="bg-emerald-500 text-white px-6 py-3 rounded-md hover:bg-emerald-600 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500" onclick="saveLineSettings()">å„²å­˜è¨­å®š</button>
                </div>
            </section>

            <section class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">æ¸¬è©¦é€šçŸ¥</h2>
                <p class="text-gray-700 mb-4">å„²å­˜è¨­å®šå¾Œï¼Œæ‚¨å¯ä»¥ç™¼é€ä¸€å‰‡æ¸¬è©¦è¨Šæ¯åˆ°æ‚¨çš„ Line å¸³è™Ÿï¼Œä»¥ç¢ºèªä¸²æ¥æ˜¯å¦æˆåŠŸã€‚</p>
                <button class="bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="testLineNotification()">ç™¼é€æ¸¬è©¦é€šçŸ¥</button>
            </section>
        </div>

    </div>

    <script>
        // --- Global State & Helper Functions ---
        let currentActiveDevice = null;
        const deviceStatuses = {
            'ç‘æ°´å™¨ A': 'é–‹å•Ÿ',
            'æ’é¢¨æ‰‡ 1': 'é—œé–‰',
            'LED è£œå…‰ç‡ˆ 2': 'è‡ªå‹•'
        };

        // Function to format current time for history logs
        function getCurrentFormattedTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            return `${year}-${month}-${day} ${hours}:${minutes}`;
        }

        // --- Page Navigation ---
        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');

            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
                if (button.getAttribute('onclick') === `showPage('${pageId}')`) {
                    button.classList.add('active');
                }
            });

            // Trigger specific updates when dashboard is shown
            if (pageId === 'dashboard') {
                updateDashboardCharts();
            }
        }

        // --- Home Page Carousel ---
        let currentSlide = 0;
        const carouselTrack = document.getElementById('home-carousel-track');
        const carouselDotsContainer = document.getElementById('home-carousel-dots');
        const totalSlides = carouselTrack.children.length;

        function updateCarousel() {
            if (!carouselTrack) return;
            carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;

            carouselDotsContainer.querySelectorAll('.carousel-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateCarousel();
        }

        function startCarousel() {
            setInterval(nextSlide, 5000); // Change slide every 5 seconds
        }

        // Add event listeners for dots
        carouselDotsContainer.querySelectorAll('.carousel-dot').forEach(dot => {
            dot.addEventListener('click', (e) => {
                currentSlide = parseInt(e.target.dataset.slide);
                updateCarousel();
            });
        });

        // Simulate weather update
        function updateWeather() {
            const temp = (25 + Math.random() * 5).toFixed(1); // 25-30Â°C
            const humidity = (60 + Math.random() * 20).toFixed(0); // 60-80%
            const rainChance = (Math.random() * 30).toFixed(0); // 0-30%
            const weatherEmoji = temp > 28 ? 'â˜€ï¸' : 'â˜ï¸';

            document.getElementById('weather-temp').innerText = `${temp}Â°C ${weatherEmoji}`;
            document.getElementById('weather-humidity').innerText = `æ¿•åº¦ ${humidity}%`;
            document.getElementById('weather-rain').innerText = `é™é›¨æ©Ÿç‡ ${rainChance}%`;
            document.getElementById('weather-forecast').innerText = `é è¨ˆæ˜æ—¥ï¼š${Math.random() > 0.5 ? 'æ™´æ™‚å¤šé›²' : 'å±€éƒ¨é™£é›¨'}ï¼Œ${(parseFloat(temp) - 2).toFixed(0)}Â°C - ${(parseFloat(temp) + 3).toFixed(0)}Â°C`;
        }


        // --- Dashboard Page Simulations ---
        function updateDashboardCharts() {
            const selectValue = document.getElementById('sensor-select').value;
            const randomFactor = selectValue === 'all' ? 1 : Math.random() + 0.5;

            // Simulate Temperature Chart
            const currentTemp = (25 + Math.random() * 5 * randomFactor).toFixed(1);
            document.getElementById('current-temp').innerText = currentTemp;
            document.querySelector('#temp-chart .bg-blue-500').style.width = `${(Math.random() * 30) + 50}%`;

            // Simulate Soil Moisture Chart
            const currentSoilMoisture = (50 + Math.random() * 25 * randomFactor).toFixed(0);
            document.getElementById('current-soil-moisture').innerText = currentSoilMoisture;
            document.querySelectorAll('#soil-moisture-chart .h-12').forEach(div => {
                const randomMoisture = (50 + Math.random() * 25).toFixed(0);
                const lightness = 70 - (randomMoisture - 50) * 0.8;
                div.style.backgroundColor = `hsl(120, 60%, ${lightness}%)`;
                div.innerText = `${div.innerText.split(' ')[0]} ${randomMoisture}%`;
            });

            // Simulate Sunlight Chart
            const currentSunlight = (5000 + Math.random() * 5000 * randomFactor).toFixed(0);
            document.getElementById('current-sunlight').innerText = currentSunlight;
            document.querySelectorAll('#sunlight-chart .h-24 div').forEach(div => {
                div.style.height = `${(Math.random() * 60) + 30}%`;
            });

            // Simulate CO2 Gauge
            const co2Value = (400 + Math.random() * 300 * randomFactor).toFixed(0);
            document.getElementById('co2-value').innerText = `${co2Value} ppm`;
            const fillHeight = Math.min(100, (co2Value - 300) / 4);
            const co2GaugeFill = document.getElementById('co2-gauge-fill');
            co2GaugeFill.style.height = `${fillHeight}%`;

            let gaugeColor = '#22c55e'; // Green (normal)
            if (co2Value > 650) gaugeColor = '#ef4444'; // Red (high)
            else if (co2Value > 550) gaugeColor = '#facc15'; // Yellow (medium)
            co2GaugeFill.style.backgroundColor = gaugeColor;
        }

        function showSensorDetail(sensorId, data) {
            alert(`æ„Ÿæ¸¬é» ${sensorId} è©³ç´°æ•¸æ“š:\n${data}`);
        }

        // --- Automation Control Page Simulations ---
        function showControlModal(element) {
            const deviceName = element.dataset.device;
            const deviceStatus = deviceStatuses[deviceName] || 'æœªçŸ¥';
            currentActiveDevice = element;

            document.getElementById('modalTitle').innerText = `${deviceName} æ§åˆ¶`;
            document.getElementById('modalDeviceName').innerText = deviceName;
            document.getElementById('modalDeviceStatus').innerText = deviceStatus;
            document.getElementById('controlModal').classList.remove('hidden');
        }

        function hideControlModal() {
            document.getElementById('controlModal').classList.add('hidden');
            currentActiveDevice = null;
        }

        function controlDevice(action) {
            if (!currentActiveDevice) return;

            const deviceName = currentActiveDevice.dataset.device;
            const newStatus = action;
            deviceStatuses[deviceName] = newStatus;
            currentActiveDevice.title = `${deviceName} (ç‹€æ…‹: ${newStatus})`;

            addOperationHistory(deviceName, action, document.querySelector('input[name="control-mode"]:checked').value);
            alert(`${deviceName} å·² ${action}ï¼`);
            hideControlModal();
        }

        function addOperationHistory(device, action, mode) {
            const tableBody = document.getElementById('operation-history-table');
            const newRow = tableBody.insertRow(0);
            newRow.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${getCurrentFormattedTime()}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${device}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm ${action === 'é–‹å•Ÿ' ? 'text-green-600' : 'text-red-600'}">${action}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${mode}</td>
            `;
        }

        function saveAutomationCondition() {
            const param1 = document.getElementById('condition1-param').selectedOptions[0].text;
            const op1 = document.getElementById('condition1-op').value;
            const value1 = document.getElementById('condition1-value').value;
            const action = document.getElementById('action-device').selectedOptions[0].text;
            alert(`è‡ªå‹•åŒ–æ¢ä»¶å·²å„²å­˜ï¼š\nç•¶ ${param1} ${op1} ${value1}ï¼Œå‰‡ã€Œ${action}ã€ã€‚`);
        }

        // --- Crop Management Page Simulations ---
        function saveCropRecord(area, recordContent) {
            if (recordContent.trim() === "") {
                alert(`è«‹è¼¸å…¥ ${area} çš„è¾²ä½œè¨˜éŒ„å…§å®¹ã€‚`);
                return;
            }
            alert(`${area} çš„è¾²ä½œè¨˜éŒ„å·²å„²å­˜ï¼š\n"${recordContent}"`);
        }

        function showImageDetail(imageUrl, imageDate, imageData) {
            document.getElementById('modalImage').src = imageUrl;
            document.getElementById('modalImageDate').innerText = `æ—¥æœŸ: ${imageDate}`;
            document.getElementById('modalImageData').innerText = `æ•¸æ“š: ${imageData}`;
            document.getElementById('imageDetailModal').classList.remove('hidden');
        }

        function hideImageDetailModal() {
            document.getElementById('imageDetailModal').classList.add('hidden');
        }

        function simulateGifGeneration() {
            alert('æ­£åœ¨ç”Ÿæˆä½œç‰©é€±æˆé•·GIFç´€éŒ„ï¼Œé€™å¯èƒ½éœ€è¦ä¸€äº›æ™‚é–“...');
            setTimeout(() => {
                alert('ä½œç‰©é€±æˆé•·GIFç´€éŒ„å·²ç”Ÿæˆä¸¦å¯ä¸‹è¼‰ï¼(æ¨¡æ“¬ä¸‹è¼‰)');
            }, 3000);
        }

        // --- Reports & Prediction Page Simulations ---
        function simulateReportDownload(type) {
            const reportType = document.getElementById('report-type').value;
            const startDate = document.getElementById('report-start-date').value;
            const endDate = document.getElementById('report-end-date').value;
            alert(`æ­£åœ¨ç”Ÿæˆ ${startDate} è‡³ ${endDate} çš„ã€Œ${reportType}ã€${type} å ±è¡¨...\nè«‹ç¨å€™...`);
            setTimeout(() => {
                alert(`ã€Œ${reportType}ã€ ${type} å ±è¡¨å·²ç”Ÿæˆä¸¦ä¸‹è¼‰å®Œæˆï¼`);
            }, 2000);
        }

        function updatePredictions() {
            const irrigation = (1000 + Math.random() * 1000).toFixed(0);
            const irrigationTrend = Math.random() > 0.5 ? 'ä¸Šå‡' : 'ä¸‹é™';
            document.getElementById('predicted-irrigation').innerText = irrigation;
            document.getElementById('predicted-irrigation-value').innerText = `${irrigation} å…¬å‡/å…¬é ƒ`;
            document.getElementById('irrigation-trend').innerText = irrigationTrend;

            const yieldAmount = (4.5 + Math.random() * 1.5).toFixed(1);
            const yieldAccuracy = (80 + Math.random() * 15).toFixed(0);
            document.getElementById('predicted-yield').innerText = yieldAmount;
            document.getElementById('predicted-yield-value').innerText = `${yieldAmount} å™¸/å…¬é ƒ`;
            document.getElementById('yield-accuracy').innerText = `${yieldAccuracy}`;
            document.getElementById('yield-accuracy-value').innerText = `${yieldAccuracy}%`;

            alert('é æ¸¬æ•¸æ“šå·²æ›´æ–°ï¼');
        }

        // --- Settings Page Simulations ---
        let users = [
            { name: 'é™³å¤§è¾²', role: 'è¾²å¤«', email: 'chen@farm.com' },
            { name: 'ç‹æŠ€å¸«', role: 'æŠ€å¸«', email: 'wang@tech.com' },
            { name: 'æç¶“ç†', role: 'ç®¡ç†è€…', email: 'li@admin.com' }
        ];

        function renderUsersTable() {
            const tableBody = document.getElementById('user-management-table');
            tableBody.innerHTML = '';
            users.forEach(user => {
                const roleClass = { 'è¾²å¤«': 'text-green-600', 'æŠ€å¸«': 'text-blue-600', 'ç®¡ç†è€…': 'text-purple-600' }[user.role] || '';
                const newRow = tableBody.insertRow();
                newRow.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${user.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm ${roleClass}">${user.role}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${user.email}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <a href="#" class="text-indigo-600 hover:text-indigo-900 mr-4" onclick="editUser('${user.name}'); return false;">ç·¨è¼¯</a>
                        <a href="#" class="text-red-600 hover:text-red-900" onclick="deleteUser('${user.name}'); return false;">åˆªé™¤</a>
                    </td>
                `;
            });
        }

        function addUser() {
            const newName = prompt("è«‹è¼¸å…¥æ–°ä½¿ç”¨è€…çš„å§“å:");
            if (!newName) return;
            if (users.some(user => user.name === newName)) {
                alert("éŒ¯èª¤ï¼šæ­¤ä½¿ç”¨è€…åç¨±å·²å­˜åœ¨ï¼");
                return;
            }
            const newRole = prompt(`è«‹è¼¸å…¥ ${newName} çš„è§’è‰² (è¾²å¤«/æŠ€å¸«/ç®¡ç†è€…):`, "è¾²å¤«");
            if (!newRole) return;
            const newEmail = prompt(`è«‹è¼¸å…¥ ${newName} çš„é›»å­éƒµä»¶:`);
            if (!newEmail) return;

            users.push({ name: newName, role: newRole, email: newEmail });
            renderUsersTable();
            alert(`ä½¿ç”¨è€… ${newName} (${newRole}) å·²æ–°å¢ã€‚`);
        }

        function editUser(name) {
            const userIndex = users.findIndex(user => user.name === name);
            if (userIndex === -1) return;
            const user = users[userIndex];

            const newRole = prompt(`ç·¨è¼¯ ${name} çš„è§’è‰² (ç›®å‰: ${user.role})ï¼Œè«‹è¼¸å…¥æ–°è§’è‰²:`, user.role);
            if (!newRole) return;
            const newEmail = prompt(`ç·¨è¼¯ ${name} çš„é›»å­éƒµä»¶ (ç›®å‰: ${user.email})ï¼Œè«‹è¼¸å…¥æ–°é›»å­éƒµä»¶:`, user.email);
            if (!newEmail) return;

            users[userIndex] = { ...user, role: newRole, email: newEmail };
            renderUsersTable();
            alert(`ä½¿ç”¨è€… ${name} çš„è³‡æ–™å·²æ›´æ–°ã€‚`);
        }

        function deleteUser(name) {
            if (confirm(`ç¢ºå®šè¦åˆªé™¤ä½¿ç”¨è€… ${name} å—ï¼Ÿ`)) {
                users = users.filter(user => user.name !== name);
                renderUsersTable();
                alert(`ä½¿ç”¨è€… ${name} å·²åˆªé™¤ã€‚`);
            }
        }

        function addMaintenanceRecord() {
            const sensorId = prompt("è«‹è¼¸å…¥æ„Ÿæ¸¬å™¨ID (ä¾‹å¦‚: SENS-007):");
            if (!sensorId) return;
            const content = prompt("è«‹è¼¸å…¥ç¶­è­·å…§å®¹:");
            if (!content) return;

            const tableBody = document.getElementById('sensor-maintenance-table');
            const newRow = tableBody.insertRow(0);
            newRow.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${sensorId}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${getCurrentFormattedTime().split(' ')[0]}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${content}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">æ­£å¸¸</td>
            `;
            alert(`æ„Ÿæ¸¬å™¨ ${sensorId} çš„ç¶­è­·è¨˜éŒ„å·²æ–°å¢ã€‚`);
        }

        function uploadFarmMap(event) {
            const file = event.target.files[0];
            if (file) alert(`å·²é¸å–æª”æ¡ˆ: ${file.name}ã€‚\n(æ¨¡æ“¬ä¸Šå‚³è¾²å ´åœ°åœ–)`);
        }

        // --- AI Chatbot Page Simulations ---
        function sendChatMessage() {
            const chatInput = document.getElementById('chat-input');
            const message = chatInput.value.trim();
            if (message === "") return;

            const chatMessages = document.getElementById('chat-messages');
            // User message
            chatMessages.innerHTML += `<div class="flex justify-end"><div class="bg-emerald-100 text-emerald-800 px-4 py-2 rounded-lg max-w-xs">${message}</div></div>`;
            chatInput.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simulate AI response
            setTimeout(() => {
                let responseText = "å°ä¸èµ·ï¼Œæˆ‘é‚„åœ¨å­¸ç¿’ä¸­ï¼Œç›®å‰ç„¡æ³•ç†è§£æ‚¨çš„å•é¡Œã€‚";
                if (message.includes("æº«åº¦") || message.includes("æ°£æº«")) {
                    responseText = "ç›®å‰çš„å¹³å‡æ°£æº«æ˜¯ 28.5Â°Cã€‚æ‚¨å¯ä»¥å‰å¾€ã€Œå³æ™‚ç›£æ¸¬å„€è¡¨æ¿ã€æŸ¥çœ‹è©³ç´°æ•¸æ“šã€‚";
                } else if (message.includes("ç‘æ°´") || message.includes("çŒæº‰")) {
                    responseText = "æ‚¨æƒ³è‡ªå‹•ç‘æ°´é‚„æ˜¯æ‰‹å‹•æ§åˆ¶ï¼Ÿè«‹åˆ°ã€Œæ™ºæ…§è¾²æ¥­è‡ªå‹•åŒ–æ§åˆ¶ã€é é¢é€²è¡Œæ“ä½œã€‚";
                } else if (message.includes("æ”¶æˆ") || message.includes("é æ¸¬")) {
                    responseText = "æ ¹æ“šæœ€æ–°çš„æ¨¡å‹ï¼Œé æ¸¬æœ¬å­£ç‰ç±³æ”¶æˆé‡ç´„ç‚º 5.2 å™¸/å…¬é ƒã€‚æ›´å¤šè³‡è¨Šè«‹çœ‹ã€Œåˆ†æå ±è¡¨èˆ‡é æ¸¬ç³»çµ±ã€ã€‚";
                } else if (message.includes("ä½ å¥½") || message.includes("å“ˆå›‰")) {
                    responseText = "æ‚¨å¥½ï¼å¾ˆé«˜èˆˆç‚ºæ‚¨æœå‹™ã€‚";
                }
                 chatMessages.innerHTML += `<div class="flex justify-start"><div class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg max-w-xs">${responseText}</div></div>`;
                 chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }

        // --- Anomaly Notification Page Functions ---
        function saveLineSettings() {
            const channelId = document.getElementById('line-channel-id').value;
            if (!channelId) {
                 alert('è«‹è‡³å°‘å¡«å¯« Line Channel IDã€‚');
                 return;
            }
            const enableNotify = document.getElementById('enable-line-notify').checked;
            alert(`Line@ ä¸²æ¥è¨­å®šå·²å„²å­˜ï¼š\nChannel ID: ${channelId}\nå•Ÿç”¨é€šçŸ¥: ${enableNotify ? 'æ˜¯' : 'å¦'}\n(Secret å’Œ Token å·²æ–¼å¾Œç«¯å®‰å…¨å„²å­˜)`);
        }

        function resetLineSettings() {
            if (confirm('ç¢ºå®šè¦é‡è¨­æ‰€æœ‰ Line@ ä¸²æ¥è¨­å®šå—ï¼Ÿ')) {
                document.getElementById('line-channel-id').value = '';
                document.getElementById('line-channel-secret').value = '';
                document.getElementById('line-access-token').value = '';
                document.getElementById('enable-line-notify').checked = false;
                alert('Line@ ä¸²æ¥è¨­å®šå·²é‡è¨­ã€‚');
            }
        }

        function testLineNotification() {
            const channelId = document.getElementById('line-channel-id').value;
            if (!channelId) {
                alert('è«‹å…ˆå¡«å¯«ä¸¦å„²å­˜ Line Channel IDã€‚');
                return;
            }
            alert('æ­£åœ¨ç™¼é€æ¸¬è©¦é€šçŸ¥è‡³æ‚¨çš„ Line å¸³è™Ÿ...\n(æ¨¡æ“¬ç™¼é€æˆåŠŸï¼Œè«‹æª¢æŸ¥æ‚¨çš„ Line)');
        }

        // --- Initialization on Window Load ---
        window.onload = function() {
            startCarousel();
            updateWeather();
            setInterval(updateWeather, 60000); // 1 minute
            setInterval(updateDashboardCharts, 5000); // 5 seconds
            
            showPage('home');
            renderUsersTable();

            document.getElementById('chat-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendChatMessage();
                }
            });
        };
    </script>
</body>
</html>
