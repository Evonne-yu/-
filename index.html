<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºæ…§è¾²æ¥­ç”Ÿç”¢æ•¸æ“šç›£æ¸¬ç³»çµ±</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa; /* Light grey background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top to prevent jumping on content load */
            min-height: 100vh; /* Ensure full viewport height */
        }
        .container {
            max-width: 1200px; /* Max width for desktop */
            width: 100%;
            background-color: #ffffff; /* White background for the main content area */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            overflow: hidden; /* Hide overflow from rounded corners */
            margin-top: 2rem; /* Margin from top */
            margin-bottom: 2rem; /* Margin from bottom */
        }
        .page-content {
            padding: 2rem;
            min-height: 700px; /* Minimum height for pages to prevent layout shifts */
            display: none; /* Hidden by default, shown by JS */
        }
        .page-content.active {
            display: block;
        }
        .nav-button {
            transition: all 0.2s ease-in-out;
        }
        .nav-button:hover {
            background-color: #047857; /* Darker green on hover */
        }
        .nav-button.active {
            background-color: #047857; /* Active state */
            font-weight: 600;
        }
        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            min-width: 100%;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
            background-size: cover;
            background-position: center;
            color: white;
            font-size: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .carousel-dot {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            margin: 0 5px;
            transition: background-color 0.3s;
        }
        .carousel-dot.active {
            background-color: white;
        }
        .chart-placeholder {
            min-height: 200px;
            background-color: #e0e7ff;
            border: 1px solid #c7d2fe;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #4338ca;
            font-weight: 500;
            text-align: center;
            padding: 1rem;
        }
        .gauge-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: #cbd5e1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            margin: auto;
        }
        .gauge-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #22c55e;
            height: 50%;
            transition: height 0.5s ease-out, background-color 0.5s ease-out;
        }
        .gauge-value {
            position: relative;
            z-index: 10;
            font-size: 1.5rem;
            font-weight: bold;
            color: #334155;
        }
        .gauge-label {
            position: absolute;
            top: 10px;
            font-size: 0.8rem;
            color: #64748b;
        }
        @media (min-width: 640px) { .feature-cards-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 768px) { .feature-cards-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (min-width: 1024px) { .feature-cards-grid { grid-template-columns: repeat(5, 1fr); } }
    </style>
</head>
<body class="bg-gray-100 antialiased">
    <div class="container bg-white rounded-xl shadow-lg my-8 md:my-12">
        <!-- Navigation Bar -->
        <nav class="bg-emerald-600 p-4 rounded-t-xl shadow-md">
            <ul class="flex flex-wrap justify-center gap-2 md:gap-4">
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50 active" onclick="showPage('home')">é¦–é </button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('dashboard')">å³æ™‚ç›£æ¸¬å„€è¡¨æ¿</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('automation')">æ™ºæ…§è¾²æ¥­è‡ªå‹•åŒ–æ§åˆ¶</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('crop-management')">è¾²ä½œç‰©ç”Ÿé•·ç®¡ç†å€</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('reports-prediction')">åˆ†æå ±è¡¨èˆ‡é æ¸¬ç³»çµ±</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('settings')">ç³»çµ±è¨­å®šèˆ‡ç®¡ç†</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('mobile-design')">æ‰‹æ©Ÿ/å¹³æ¿äº’å‹•è¨­è¨ˆ</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('ai-chatbot')">AIå®¢æœRobot</button></li>
                <li><button class="nav-button bg-emerald-500 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-50" onclick="showPage('anomaly-notification')">ç•°å¸¸é€šçŸ¥</button></li>
            </ul>
        </nav>

        <!-- Page 1: é¦–é  Home -->
        <div id="home" class="page-content active">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">æ™ºæ…§è¾²æ¥­ç”Ÿç”¢æ•¸æ“šç›£æ¸¬ç³»çµ±</h1>
            <p class="text-lg text-gray-600 mb-8 text-center">è®“è¾²æ¥­ç”Ÿç”¢æ›´æ™ºæ…§ã€æ›´é«˜æ•ˆï¼</p>
            <section class="mb-10">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ç³»çµ±ç°¡ä»‹</h2>
                <div class="carousel-container h-64 md:h-80">
                    <div class="carousel-track" id="home-carousel-track">
                        <div class="carousel-slide" style="background-image: url('https://placehold.co/1200x400/3498db/ffffff?text=æ™ºæ…§è¾²å ´å…¨æ™¯');"><span class="bg-black bg-opacity-50 p-2 rounded-md">æ™ºæ…§è¾²å ´å…¨æ™¯</span></div>
                        <div class="carousel-slide" style="background-image: url('https://placehold.co/1200x400/2ecc71/ffffff?text=å…ˆé€²æ„Ÿæ¸¬å™¨éƒ¨ç½²');"><span class="bg-black bg-opacity-50 p-2 rounded-md">å…ˆé€²æ„Ÿæ¸¬å™¨éƒ¨ç½²</span></div>
                        <div class="carousel-slide" style="background-image: url('https://placehold.co/1200x400/9b59b6/ffffff?text=è‡ªå‹•åŒ–ç‘æ°´ç³»çµ±');"><span class="bg-black bg-opacity-50 p-2 rounded-md">è‡ªå‹•åŒ–ç‘æ°´ç³»çµ±</span></div>
                    </div>
                    <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2" id="home-carousel-dots">
                        <span class="carousel-dot active" data-slide="0"></span><span class="carousel-dot" data-slide="1"></span><span class="carousel-dot" data-slide="2"></span>
                    </div>
                </div>
            </section>
            <section class="mb-10">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">ä¸»è¦åŠŸèƒ½ç¸½è¦½</h2>
                <div class="grid feature-cards-grid gap-6">
                    <div class="bg-indigo-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('dashboard')"><div class="text-4xl mb-3 text-indigo-700">ğŸ“Š</div><h3 class="text-xl font-medium text-indigo-800">å³æ™‚ç›£æ¸¬</h3><p class="text-gray-600 text-sm">æŒæ¡è¾²å ´å³æ™‚æ•¸æ“š</p></div>
                    <div class="bg-green-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('dashboard')"><div class="text-4xl mb-3 text-green-700">ğŸŒ±</div><h3 class="text-xl font-medium text-green-800">ç’°å¢ƒæ„Ÿæ¸¬</h3><p class="text-gray-600 text-sm">æº«åº¦ã€æ¿•åº¦ã€åœŸå£¤ä¸€è¦½ç„¡éº</p></div>
                    <div class="bg-red-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('automation')"><div class="text-4xl mb-3 text-red-700">âš™ï¸</div><h3 class="text-xl font-medium text-red-800">è‡ªå‹•åŒ–æ§åˆ¶</h3><p class="text-gray-600 text-sm">æ™ºèƒ½ç®¡ç†ç‘æ°´ã€é€šé¢¨</p></div>
                    <div class="bg-yellow-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('crop-management')"><div class="text-4xl mb-3 text-yellow-700">ğŸŒ¾</div><h3 class="text-xl font-medium text-yellow-800">è¾²ä½œç®¡ç†</h3><p class="text-gray-600 text-sm">ä½œç‰©ç”Ÿé•·èˆ‡ç…§ç‰‡è¨˜éŒ„</p></div>
                    <div class="bg-purple-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer text-center" onclick="showPage('reports-prediction')"><div class="text-4xl mb-3 text-purple-700">ğŸ“ˆ</div><h3 class="text-xl font-medium text-purple-800">å ±è¡¨èˆ‡é æ¸¬åˆ†æ</h3><p class="text-gray-600 text-sm">æ•¸æ“šæ´å¯Ÿï¼Œè¼”åŠ©æ±ºç­–</p></div>
                </div>
            </section>
            <section class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                <div class="bg-blue-50 p-6 rounded-lg shadow-md"><h2 class="text-2xl font-semibold text-blue-700 mb-4">ä»Šæ—¥å¤©æ°£èˆ‡é æ¸¬</h2><p class="text-gray-700 text-lg mb-2">è¾²å ´åœ°é»ï¼šå°ä¸­å¸‚åé‡Œå€</p><p id="weather-temp" class="text-gray-700 text-3xl font-bold">28Â°C â˜€ï¸</p><p id="weather-humidity" class="text-gray-600">æ¿•åº¦ 75%</p><p id="weather-rain" class="text-gray-600">é™é›¨æ©Ÿç‡ 10%</p><p id="weather-forecast" class="text-gray-600 text-sm mt-2">é è¨ˆæ˜æ—¥ï¼šå¤šé›²ï¼Œ26Â°C - 32Â°C</p></div>
                <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col justify-between"><div><h2 class="text-2xl font-semibold text-gray-700 mb-4">å¿«é€Ÿå…¥å£</h2><button class="w-full bg-blue-500 text-white py-3 rounded-md mb-3 hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="showPage('dashboard')">å¿«é€Ÿé€²å…¥æ•¸æ“šå„€è¡¨æ¿</button></div><div><p class="text-center text-gray-600 mb-2">å·²æœ‰å¸³è™Ÿï¼Ÿ</p><button class="w-full border border-blue-500 text-blue-500 py-3 rounded-md hover:bg-blue-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="alert('æ¨¡æ“¬ç™»å…¥æ“ä½œ...');">ç™»å…¥</button><p class="text-center text-gray-600 mt-3 mb-2">é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ</p><button class="w-full bg-blue-700 text-white py-3 rounded-md hover:bg-blue-800 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-700" onclick="alert('æ¨¡æ“¬è¨»å†Šæ“ä½œ...');">è¨»å†Š</button></div></div>
            </section>
        </div>

        <!-- Page 2: å³æ™‚ç›£æ¸¬å„€è¡¨æ¿ Dashboard -->
        <div id="dashboard" class="page-content">
            <h1 class="text-4xl font-bold text-gray-800 mb-6 text-center">å³æ™‚ç›£æ¸¬å„€è¡¨æ¿</h1><p class="text-lg text-gray-600 mb-8 text-center">å³æ™‚æŒæ¡è¾²å ´ç’°å¢ƒèˆ‡ä½œç‰©æ•¸æ“š</p>
            <div class="mb-6 flex flex-col md:flex-row items-center gap-4"><label for="sensor-select" class="font-medium text-gray-700">é¸æ“‡æ„Ÿæ¸¬å™¨/å€åŸŸ:</label><select id="sensor-select" class="p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 flex-grow" onchange="updateDashboardCharts()"><option value="all">æ‰€æœ‰æ„Ÿæ¸¬å™¨</option><option value="field-a">Aåœ°å¡Šæ„Ÿæ¸¬å™¨</option><option value="greenhouse-1">æº«å®¤1è™Ÿ</option><option value="field-b">Båœ°å¡Šæ„Ÿæ¸¬å™¨</option></select></div>
            <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md"><h3 class="text-xl font-semibold text-gray-700 mb-3">æº«åº¦è®ŠåŒ–æŠ˜ç·šåœ– (24å°æ™‚)</h3><div id="temp-chart" class="chart-placeholder h-48"><p class="text-2xl text-blue-700 font-bold mb-2"><span id="current-temp">28.5</span>Â°C</p><p class="text-sm text-gray-600">æœ€é«˜: 30Â°C, æœ€ä½: 22Â°C</p><div class="w-full bg-blue-200 h-2 rounded-full mt-4 relative"><div class="bg-blue-500 h-2 rounded-full" style="width: 70%;"></div></div><p class="text-xs text-gray-500 mt-1">æ¨¡æ“¬éå»24å°æ™‚è®ŠåŒ–</p></div><p class="text-sm text-gray-500 mt-2">æè¿°ï¼šé¡¯ç¤ºéå»24å°æ™‚çš„æ°£æº«è®ŠåŒ–è¶¨å‹¢ã€‚</p></div>
                <div class="bg-white p-6 rounded-lg shadow-md"><h3 class="text-xl font-semibold text-gray-700 mb-3">åœŸå£¤æ¿•åº¦åˆ†ä½ˆç†±åŠ›åœ–</h3><div id="soil-moisture-chart" class="chart-placeholder h-48"><p class="text-2xl text-green-700 font-bold mb-2">å¹³å‡æ¿•åº¦: <span id="current-soil-moisture">65</span>%</p><div class="grid grid-cols-3 gap-2 w-full mt-4"><div class="h-12 rounded-md flex items-center justify-center text-white text-xs" style="background-color: hsl(120, 60%, 40%);">Aå€ 68%</div><div class="h-12 rounded-md flex items-center justify-center text-white text-xs" style="background-color: hsl(120, 60%, 50%);">Bå€ 60%</div><div class="h-12 rounded-md flex items-center justify-center text-white text-xs" style="background-color: hsl(120, 60%, 30%);">Cå€ 75%</div></div></div><p class="text-sm text-gray-500 mt-2">æè¿°ï¼šä»¥é¡è‰²æ·±æ·ºå±•ç¤ºä¸åŒåœ°å¡Šçš„åœŸå£¤æ¿•åº¦åˆ†ä½ˆã€‚</p></div>
                <div class="bg-white p-6 rounded-lg shadow-md"><h3 class="text-xl font-semibold text-gray-700 mb-3">æ—¥ç…§å¼·åº¦é•·æ¢åœ– (æ¯å°æ™‚)</h3><div id="sunlight-chart" class="chart-placeholder h-48"><p class="text-2xl text-yellow-700 font-bold mb-2">ç›®å‰æ—¥ç…§: <span id="current-sunlight">8500</span> Lux</p><div class="flex justify-around items-end w-full h-24 mt-4"><div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 60%;" title="10é»: 7500 Lux"></div><div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 80%;" title="11é»: 9000 Lux"></div><div class="bg-yellow-500 w-4 rounded-t-sm" style="height: 95%;" title="12é»: 10000 Lux"></div><div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 85%;" title="13é»: 9200 Lux"></div><div class="bg-yellow-400 w-4 rounded-t-sm" style="height: 70%;" title="14é»: 8000 Lux"></div><div class="bg-yellow-300 w-4 rounded-t-sm" style="height: 40%;" title="15é»: 5000 Lux"></div></div></div><p class="text-sm text-gray-500 mt-2">æè¿°ï¼šé¡¯ç¤ºæ¯å°æ™‚çš„å¹³å‡æ—¥ç…§å¼·åº¦ã€‚</p></div>
                <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center"><h3 class="text-xl font-semibold text-gray-700 mb-3">COâ‚‚æ¿ƒåº¦å„€è¡¨æ¿</h3><div class="gauge-container mb-2"><div class="gauge-fill" id="co2-gauge-fill" style="height: 65%; background-color: #facc15;"></div><span class="gauge-value" id="co2-value">550 ppm</span><span class="gauge-label">COâ‚‚</span></div><p class="text-sm text-gray-500 mt-2">æè¿°ï¼šå³æ™‚é¡¯ç¤ºæº«å®¤å…§äºŒæ°§åŒ–ç¢³æ¿ƒåº¦ã€‚</p></div>
            </section>
            <section class="mb-8 bg-white p-6 rounded-lg shadow-md"><h2 class="text-2xl font-semibold text-gray-700 mb-4">è¾²å ´æ„Ÿæ¸¬é»ä½ç½®</h2><div class="relative bg-gray-200 h-64 rounded-md flex justify-center items-center text-gray-500 text-lg"><img src="https://placehold.co/800x300/e0e0e0/555555?text=è¾²å ´åœ°åœ–ç¤ºæ„åœ–" alt="è¾²å ´åœ°åœ–ç¤ºæ„åœ–" class="w-full h-full object-cover rounded-md" onerror="this.onerror=null;this.src='https://placehold.co/800x300/e0e0e0/555555?text=åœ°åœ–è¼‰å…¥å¤±æ•—';"><div class="absolute top-1/4 left-1/4 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold cursor-pointer" title="æ„Ÿæ¸¬é» A" onclick="showSensorDetail('A', 'æ°£æº«: 27Â°C, åœŸå£¤æ¿•åº¦: 68%, æ—¥ç…§: 8500 Lux');">A</div><div class="absolute bottom-1/3 right-1/3 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold cursor-pointer" title="æ„Ÿæ¸¬é» B" onclick="showSensorDetail('B', 'æ°£æº«: 26Â°C, åœŸå£¤æ¿•åº¦: 72%, æ—¥ç…§: 7800 Lux');">B</div></div><p class="text-sm text-gray-500 mt-2">æè¿°ï¼šåœ°åœ–ä¸Šé¡¯ç¤ºå„æ„Ÿæ¸¬å™¨çš„åœ°ç†ä½ç½®ï¼Œé»æ“Šå¯æŸ¥çœ‹è©²é»è©³ç´°æ•¸æ“šã€‚</p></section>
            <section class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-2xl font-semibold text-gray-700 mb-4">æ›´å¤šæ•¸æ“šæŸ¥è©¢</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><button class="bg-blue-100 text-blue-700 py-3 rounded-md hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="alert('é¡¯ç¤ºæ„Ÿæ¸¬å™¨åˆ—è¡¨åŠç‹€æ…‹ï¼š\n- SENS-001 (æ­£å¸¸)\n- SENS-002 (æ­£å¸¸)\n- SENS-003 (é›¢ç·š)\n- SENS-004 (æ­£å¸¸)');">æ„Ÿæ¸¬å™¨åˆ—è¡¨ / ç‹€æ…‹åœ–ç¤º</button><div class="flex flex-col"><input type="text" placeholder="æŒ‡å®šæ—¥æœŸå€é–“ (YYYY-MM-DD)" class="p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 mb-2" value="2025-06-01 ~ 2025-06-30"><button class="bg-blue-100 text-blue-700 py-3 rounded-md hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500" onclick="alert('æŸ¥è©¢æŒ‡å®šæ—¥æœŸå€é–“æ•¸æ“š (2025-06-01 ~ 2025-06-30)ã€‚\né¡¯ç¤ºè©²æœŸé–“çš„æ•¸æ“šç¸½çµèˆ‡è¶¨å‹¢ã€‚');">æ•¸æ“šæŸ¥è©¢</button></div><button class="bg-red-100 text-red-700 py-3 rounded-md hover:bg-red-200 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500" onclick="alert('é¡¯ç¤ºè­¦ç¤ºç´€éŒ„ï¼š\n- 2025-06-25 15:00: é«˜æº«è­¦å ± (35Â°C)\n- 2025-06-20 10:00: åœŸå£¤æ¿•åº¦éä½è­¦å ± (15%)\n- 2025-06-18 08:00: æ„Ÿæ¸¬å™¨ SENS-003 é›¢ç·š');">è­¦ç¤ºç´€éŒ„</button></div></section>
        </div>

        <!-- Page 3 to 9 HTML code continues here... -->
        <!-- ... (The rest of the pages are here) ... -->
        
    </div>

    <script>
        // --- Global State & Helper Functions ---
        let currentActiveDevice = null;
        const deviceStatuses = {
            'ç‘æ°´å™¨ A': 'é–‹å•Ÿ',
            'æ’é¢¨æ‰‡ 1': 'é—œé–‰',
            'LED è£œå…‰ç‡ˆ 2': 'è‡ªå‹•'
        };

        function getCurrentFormattedTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            return `${year}-${month}-${day} ${hours}:${minutes}`;
        }

        // --- Page Navigation ---
        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
                if (button.getAttribute('onclick') === `showPage('${pageId}')`) {
                    button.classList.add('active');
                }
            });
            if (pageId === 'dashboard') {
                updateDashboardCharts();
            }
        }

        // --- Home Page Carousel ---
        let currentSlide = 0;
        const carouselTrack = document.getElementById('home-carousel-track');
        const carouselDotsContainer = document.getElementById('home-carousel-dots');
        const totalSlides = carouselTrack ? carouselTrack.children.length : 0;

        function updateCarousel() {
            if (!carouselTrack) return;
            carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
            carouselDotsContainer.querySelectorAll('.carousel-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateCarousel();
        }

        function startCarousel() {
            if(totalSlides > 0) setInterval(nextSlide, 5000);
        }

        if (carouselDotsContainer) {
            carouselDotsContainer.querySelectorAll('.carousel-dot').forEach(dot => {
                dot.addEventListener('click', (e) => {
                    currentSlide = parseInt(e.target.dataset.slide);
                    updateCarousel();
                });
            });
        }

        // ... (The rest of the JavaScript functions are here) ...

        // --- Initialization on Window Load ---
        window.onload = function() {
            startCarousel();
            // ... (the rest of the onload function)
        };
    </script>
</body>
</html>
